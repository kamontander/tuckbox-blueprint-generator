document.addEventListener("DOMContentLoaded",(function(){console.log("%cTuckbox Generator","font-family:sans-serif;font-weight:600;font-size:20px;color:#f58220;"),favicon.animate(["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYUlEQVQ4EWNkYGD4D8RkAyaydUI1jhrAwMCCHIj//xMXIYyMjHBttAlEBQUFBkFBQbgtIDZIDBcAuRuMgV4AAwEBARQ+SB4kBgMw9SAa5BniPA5UiA3QJgyw2YRLbBi4AADqNSiBnQQ3BAAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAVklEQVQ4EWP8DwQMFAAmCvSCtY4awMDAghyIjIyMyFycbOSIo00gPnjwgOH9+/dwF4DYIDFsAMULMAX8/PwMAgICMC4KGy4IZTCOpkQG2kQjekjj4wMAE6oWgm3dkXAAAAAASUVORK5CYII="],500);const t={title:"Monsters",fontSize:8,fontOutline:!0,imageTop:"",imageFront:"",imageRight:"",imageBack:"",imageLeft:"",imageBottom:"",width:64,height:89,depth:17,bottomTucked:!0,thumbTop:!0,thumbBottom:!0,thumbWidth:20,flapsWidth:30,tuckWidth:40,trimWidth:.5,hingeDistance:7,scale:5,colorOutline:"#000000",colorCrease:"#ff0000",colorTitle:"#0000ff"},e=new Tweakpane.Pane({title:"Parameters",expanded:!0});e.addInput(t,"scale",{label:"Scale (on screen)",min:1,max:10,step:.1}),e.addInput(t,"colorOutline",{label:"Outline"}),e.addInput(t,"colorCrease",{label:"Crease"});const l=e.addFolder({title:"Title"});l.addInput(t,"title",{label:"Title"}),l.addInput(t,"fontSize",{label:"Font Size",min:.1,max:20,step:.1}),l.addInput(t,"colorTitle",{label:"Font Color"}),l.addInput(t,"fontOutline",{label:"Outlines"});const i=e.addFolder({title:"Images (URLs)",expanded:!1});i.addInput(t,"imageTop",{label:"Top"}),i.addInput(t,"imageFront",{label:"Front"}),i.addInput(t,"imageRight",{label:"Right"}),i.addInput(t,"imageLeft",{label:"Left"}),i.addInput(t,"imageBack",{label:"Back"}),i.addInput(t,"imageBottom",{label:"Bottom"});const n=e.addFolder({title:"Dimensions [mm]"});n.addInput(t,"width",{label:"Width",min:10,step:1}),n.addInput(t,"height",{label:"Height",min:10,step:1}),n.addInput(t,"depth",{label:"Depth",min:10,step:1}),n.addInput(t,"flapsWidth",{label:"Flaps",min:10,max:30,step:1}),n.addInput(t,"tuckWidth",{label:"Tuck Flaps",min:10,max:40,step:1}),n.addInput(t,"trimWidth",{label:"Trim",min:0,max:3,step:.5}),n.addInput(t,"hingeDistance",{label:"Hinge",min:0,max:20,step:.5}),n.addInput(t,"bottomTucked",{label:"Bottom",options:{Tucked:!0,Glued:!1}});const u=e.addFolder({title:"Thumb Cutouts"});u.addInput(t,"thumbTop",{label:"Top"});const d=u.addInput(t,"thumbBottom",{label:"Bottom"}),a=u.addInput(t,"thumbWidth",{label:"Width",min:10,max:30,step:1});e.addButton({title:"Print"}).on("click",(function(){window.print()}));const o="http://www.w3.org/2000/svg",r=document.getElementById("canvas"),s=document.createElementNS(o,"svg");let h=e.exportPreset(),m="";function A(){h=e.exportPreset(),h.thumbTop||h.thumbBottom?a.disabled=!1:a.disabled=!0,h.bottomTucked?d.disabled=!1:(d.disabled=!0,h.thumbTop?a.disabled=!1:a.disabled=!0),function(){let t=2*h.depth+2*h.width+.8*h.depth,e=t*h.scale,l=2*h.depth+2*h.tuckWidth+1*h.height,i=l*h.scale,n=document.createElementNS(o,"path"),u=document.createElementNS(o,"path"),d=document.createElementNS(o,"text"),a="",A=h.width*h.scale,p=h.height*h.scale,c=h.depth*h.scale,b=h.trimWidth*h.scale,S=h.thumbWidth*h.scale,g=h.flapsWidth*h.scale,N=h.tuckWidth*h.scale,w=h.hingeDistance*h.scale;if(s.innerHTML="",s.setAttributeNS(null,"viewBox","0 0 "+e+" "+i),r.style.width=e+"px",r.style.height=i+"px",m="@media print { #canvas { width: "+t+"mm !important; height: "+l+"mm !important; stroke-width: .25pt !important; } }",addStyleString(m),n.setAttributeNS(null,"stroke",h.colorOutline),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"stroke-linecap","round"),n.setAttributeNS(null,"stroke-linejoin","round"),u.setAttributeNS(null,"stroke",h.colorCrease),u.setAttributeNS(null,"fill","none"),u.setAttributeNS(null,"stroke-linecap","round"),u.setAttributeNS(null,"stroke-linejoin","round"),h.imageTop){let t=document.createElementNS(o,"image");t.setAttributeNS(null,"width",A),t.setAttributeNS(null,"height",c),t.setAttributeNS(null,"preserveAspectRatio","xMidYMid slice"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.imageTop),t.setAttributeNS(null,"x",.8*c+A+c),t.setAttributeNS(null,"y",1*N),s.appendChild(t)}if(h.imageFront){let t=document.createElementNS(o,"defs"),e=document.createElementNS(o,"image"),l=document.createElementNS(o,"clipPath"),i=document.createElementNS(o,"path");l.setAttributeNS(null,"id","front-image-clip"),a="M"+.8*c+","+(1*c+1*N),a+="h"+(A-S)/2,h.thumbTop?a+="c"+S/8+","+S/2+" "+(S-S/8)+","+S/2+" "+S+",0":a+="h"+S,a+="h"+((A-S)/2+b),a+="v"+p,a+="h"+-((A-S)/2+b),h.bottomTucked&&h.thumbBottom?a+="c-"+S/8+","+-S/2+" "+-(S-S/8)+","+-S/2+" "+-S+",0":a+="h"+-S,a+="h"+-(A-S)/2,a+="v"+-p,i.setAttributeNS(null,"d",a),l.appendChild(i),t.appendChild(l),s.appendChild(t),e.setAttributeNS(null,"width",A),e.setAttributeNS(null,"height",p),e.setAttributeNS(null,"preserveAspectRatio","xMidYMid slice"),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.imageFront),e.setAttributeNS(null,"x",.8*c),e.setAttributeNS(null,"y",1*c+1*N),e.setAttributeNS(null,"clip-path","url(#front-image-clip)"),s.appendChild(e)}if(h.imageRight){let t=document.createElementNS(o,"image");t.setAttributeNS(null,"width",c),t.setAttributeNS(null,"height",p),t.setAttributeNS(null,"preserveAspectRatio","xMidYMid slice"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.imageRight),t.setAttributeNS(null,"x",.8*c+A),t.setAttributeNS(null,"y",1*c+1*N),s.appendChild(t)}if(h.imageBack){let t=document.createElementNS(o,"image");t.setAttributeNS(null,"width",A),t.setAttributeNS(null,"height",p),t.setAttributeNS(null,"preserveAspectRatio","xMidYMid slice"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.imageBack),t.setAttributeNS(null,"x",.8*c+A+c),t.setAttributeNS(null,"y",1*c+1*N),s.appendChild(t)}if(h.imageLeft){let t=document.createElementNS(o,"image");t.setAttributeNS(null,"width",c),t.setAttributeNS(null,"height",p),t.setAttributeNS(null,"preserveAspectRatio","xMidYMid slice"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.imageLeft),t.setAttributeNS(null,"x",.8*c+2*A+c),t.setAttributeNS(null,"y",1*c+1*N),s.appendChild(t)}if(h.imageBottom){let t=document.createElementNS(o,"image");t.setAttributeNS(null,"width",A),t.setAttributeNS(null,"height",c),t.setAttributeNS(null,"preserveAspectRatio","xMidYMid slice"),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h.imageBottom),t.setAttributeNS(null,"x",.8*c+A+c),t.setAttributeNS(null,"y",1*N+c+p),s.appendChild(t)}a="M"+.8*c+","+(1*c+1*N),a+="h"+(A-S)/2,h.thumbTop?a+="c"+S/8+","+S/2+" "+(S-S/8)+","+S/2+" "+S+",0":a+="h"+S;a+="h"+((A-S)/2+b),a+="v"+-(g-c/2),a+="q0,"+-c/2+" "+c/2+","+-c/2,a+="h"+(c/2-2*b),a+="v"+g,a+="h"+b,a+="m0,"+w,a+="v"+-(1*c+w),a+="v"+.3*-N,a+="c0,"+-N/3+" "+A/4+","+.7*-N+" "+A/2+","+.7*-N,a+="s"+A/2+","+(.7*N-N/3)+" "+A/2+","+.7*N,a+="v"+.3*N,a+="v"+(1*c+w),a+="m0,"+-w,a+="h"+b,a+="v"+1*-g,a+="h"+(c/2-2*b),a+="q"+c/2+",0 "+c/2+","+c/2,a+="v"+(g-c/2),a+="h"+b,a+="v"+p,a+="h"+-b,h.bottomTucked?(a+="v"+(g-c/2),a+="q0,"+c/2+" "+-c/2+","+c/2,a+="h-"+(c/2-2*b),a+="v"+-g):(a+="l"+-(c-2*b)/2+","+(c-2*b)/2,a+="l"+-(c-2*b)/2+","+-(c-2*b)/2);a+="h"+-b,h.bottomTucked?(a+="v"+1*c,a+="v"+.3*N,a+="c0,"+N/3+" "+-A/4+","+.7*N+" "+-A/2+","+.7*N,a+="s"+-A/2+","+-(.7*N-N/3)+" "+-A/2+","+.7*-N,a+="v"+.3*-N,a+="v"+1*-c,a+="h"+-b,a+="v"+g,a+="h"+-(c/2-2*b),a+="q"+-c/2+",0 "+-c/2+","+-c/2,a+="v"+-(g-c/2),a+="h"+-((A-S)/2+b),h.thumbBottom?a+="c-"+S/8+","+-S/2+" "+-(S-S/8)+","+-S/2+" "+-S+",0":a+="h"+-S,a+="h"+-(A-S)/2):(a+="l"+.8*-c+","+.8*c,a+="h"+-(A-1.6*c),a+="l"+.8*-c+","+.8*-c,a+="h"+-b,a+="l"+-(c-2*b)/2+","+(c-2*b)/2,a+="l"+-(c-2*b)/2+","+-(c-2*b)/2,a+="h"+-b,a+="v"+1*c,a+="h"+-A,a+="v"+-c);a+="l"+.8*-c+","+.4*-c,a+="v"+-(p-.8*c),a+="l"+.8*c+","+.4*-c,n.setAttributeNS(null,"d",a),s.appendChild(n),a="",a+="M"+.8*c+","+(c+N),a+="v"+p,a+="M"+(.8*c+A)+","+(c+N),a+="v"+p,a+="M"+(.8*c+A+c)+","+(N+c+w),a+="v"+(p-w),a+="M"+(.8*c+2*A+c)+","+(N+c+w),a+="v"+(p-w),a+="M"+(.8*c+A+c)+","+N,a+="h"+A,a+="M"+(.8*c+A+b)+","+(N+c),a+="h"+(c-2*b),a+="M"+(.8*c+A+c)+","+(N+c),a+="h"+A,a+="M"+(.8*c+2*A+c+b)+","+(N+c),a+="h"+(c-2*b),a+="M"+(.8*c+A+c)+","+(N+c+w),a+="h"+A,a+="M"+(.8*c+A+b)+","+(N+c+p),a+="h"+(c-2*b),a+="M"+(.8*c+A+c)+","+(N+c+p),a+="h"+A,a+="M"+(.8*c+2*A+c+b)+","+(N+c+p),a+="h"+(c-2*b),h.bottomTucked?(a+="M"+(.8*c+A+c)+","+(N+c+p+c),a+="h"+A):(a+="M"+.8*c+","+(c+N+p),a+="h"+A);u.setAttributeNS(null,"d",a),s.appendChild(u);let k=h.title.split("\n");h.fontOutline?(d.setAttributeNS(null,"stroke",h.colorTitle),d.setAttributeNS(null,"fill","none")):(d.setAttributeNS(null,"fill",h.colorTitle),d.setAttributeNS(null,"stroke","none"));d.setAttributeNS(null,"text-anchor","middle"),d.setAttributeNS(null,"font-size",h.fontSize*h.scale),d.setAttributeNS(null,"x",.8*c+A/2),d.setAttributeNS(null,"stroke-linecap","round"),d.setAttributeNS(null,"stroke-linejoin","round");for(let t=0;t<k.length;t++){let e=document.createElementNS(o,"tspan"),l=document.createTextNode(k[t]);e.setAttributeNS(null,"x",.8*c+A/2),e.setAttributeNS(null,"dy","1.2em"),e.appendChild(l),d.appendChild(e)}s.appendChild(d);var f=d.getBBox();d.setAttributeNS(null,"y",c+N+p/2-f.height/2)}()}var p;e.on("change",(t=>{A()})),p=document.createElement("style"),document.body.appendChild(p),window.addStyleString=function(t){p.innerHTML=t},s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),r.appendChild(s),A()}));
//# sourceMappingURL=scripts.min.js.map